(function(){"use strict";var t={6795:function(t,e,s){var o=s(7195),i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[e("div",{ref:"messages",staticClass:"messages"},t._l(t.messages,(function(s){return e("Message",{key:s.id,class:["message",{right:s.isMine}],attrs:{dark:s.isMine,text:s.text,author:s.author,actions:s.actions,list_items:t.messages.list_items},on:{onActionSelect:t.onActionSelectEvent}})})),1),e("ChatBox",{staticClass:"chat-box",on:{submit:t.onSubmit}}),t.user?t._e():e("RegisterDialog",{on:{submit:t.onRegister}})],1)},a=[],n=(s(7658),function(){var t=this,e=t._self._c;return e("div",{class:["message",{dark:t.dark}]},[e("h5",[t._v(t._s(t.author))]),t._v(" "+t._s(t.text)+" "),t._l(t.actions,(function(s,o){return e("p",{key:o,staticClass:"pointer",on:{click:function(e){return t.$emit("onActionSelect",e,s)}}},[t._v(" ("+t._s(o+1)+") "+t._s(s.label)+" "),s.showBookButton?e("button",{staticClass:"pointer"},[t._v(" Book ")]):t._e(),s.showCheckStatusButton?e("button",{staticClass:"pointer"},[t._v(" Status ")]):t._e(),s.showTalkToAgentButton?e("button",{staticClass:"pointer"},[t._v(" Click Here ")]):t._e()])})),t._l(t.list_items,(function(s,o){return e("p",{key:o},[t._v(" "+t._s(s.label)+" ")])}))],2)}),r=[],l={name:"Message",props:["text","author","dark","actions","list_items"]},u=l,h=s(3736),c=(0,h.Z)(u,n,r,!1,null,"71fec612",null),m=c.exports,g=function(){var t=this,e=t._self._c;return e("form",{staticClass:"chat-box",on:{submit:function(e){return t.onSubmit(e)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],attrs:{placeholder:"Write a message",type:"text"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}}),e("button",{attrs:{disabled:""===t.text}},[t._v("Send")])])},p=[],d={name:"ChatBox",data:()=>({text:""}),methods:{onSubmit(t){this.$emit("submit",t,this.text),this.text=""}}},b=d,A=(0,h.Z)(b,g,p,!1,null,"769cea4e",null),S=A.exports,_=function(){var t=this,e=t._self._c;return e("div",{staticClass:"register"},[e("div",{staticClass:"dialog"},[e("h5",[t._v("Welcome to Chat app")]),e("span",[t._v("Please enter your name, email id and phone number to initiate conversation:")]),e("form",{on:{submit:function(e){return t.$emit("submit",e,t.loginForm)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.loginForm.fullName,expression:"loginForm.fullName"}],attrs:{placeholder:"Name",type:"text"},domProps:{value:t.loginForm.fullName},on:{input:function(e){e.target.composing||t.$set(t.loginForm,"fullName",e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.loginForm.email,expression:"loginForm.email"}],attrs:{placeholder:"Email",type:"text"},domProps:{value:t.loginForm.email},on:{input:function(e){e.target.composing||t.$set(t.loginForm,"email",e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.loginForm.phoneNumber,expression:"loginForm.phoneNumber"}],attrs:{placeholder:"Phone Number",type:"text"},domProps:{value:t.loginForm.phoneNumber},on:{input:function(e){e.target.composing||t.$set(t.loginForm,"phoneNumber",e.target.value)}}}),e("button",{attrs:{disabled:""===t.loginForm.fullName||""===t.loginForm.email||""===t.loginForm.phoneNumber}},[t._v(" Enter ")])])])])},f=[],k={name:"RegisterDialog",data:()=>({loginForm:{fullName:"",email:"",phoneNumber:""}}),methods:{onSubmit(){$emit("submit",$event,loginForm)}}},v=k,N=(0,h.Z)(v,_,f,!1,null,"4ec48de9",null),T=N.exports,B=s(1412);const y={HOME_PAGE:1,ASKING_BOOKING_ARRIVAL:2,ASKING_BOOKING_DIPARTURE:3,ASKING_BOOKING_DATE:4,SHOWING_AVAILABLE_FLIGHTS:5,THANKS_FOR_BOOKING:6,SHOWING_LIST_FOR_FLIGHT_STATUS:7,TALK_TO_AGENT:8};var O={BOT_STATUS:y},I=s(19),w=s(6891);const x="https://backend.airchatboat.devstrapp.com/",F={init(){console.log("init() callleed: "),o.ZP.use(w.Z,I.Z),o.ZP.axios.defaults.baseURL=x},get(t){return o.ZP.axios.get(t)},post(t,e){return o.ZP.axios.post(t,e)},put(t,e){return o.ZP.axios.put(t,e)},patch(t,e){return o.ZP.axios.patch(t,e)},update(t,e,s){return o.ZP.axios.put(`${t}/${e}`,s)},delete(t){return o.ZP.axios["delete"](t)}};var M=F;const G={async register(t){return await M.post("/users/register",t)},async forgotPassword(t){return await M.post("/auth/forgot-password",t)},async resetPassword(t){return await M.post("/auth/reset-password",t)},async changePassword(t){return await M.post("/auth/change-password",t)},async checkResetPasswordToken(t){return await M.post("/auth/check-reset-password-token",t)},async getProfile(){return await M.get("/auth/profile")},async updateProfile(t){return await M.post("/auth/profile",t)}};var E=G,P={name:"App",components:{RegisterDialog:T,ChatBox:S,Message:m},data:()=>({user:void 0,messages:[],botActions:[{key:"a",label:"Book a Flight "},{key:"b",label:"Modify a current Booking "},{key:"c",label:"Flight Status "},{key:"d",label:"Baggage claims "},{key:"e",label:"Online Check-in "},{key:"g",label:"Book cargo "},{key:"f",label:"My problem is not listed here "}],departureOptions:[{key:"1",label:"CPT CAPETOWN"},{key:"2",label:"FRW FRANCISTOWN"},{key:"3",label:"GBE GABARONE"},{key:"4",label:"HRE HARARE"},{key:"5",label:"JNB JOHANNESBURG"},{key:"6",label:"BBK KASANE"},{key:"7",label:"LUN LUKASA"},{key:"8",label:"MUB  MAUN"}],arrivalOptions:[{key:"1",label:"CPT CAPETOWN"},{key:"2",label:"FRW FRANCISTOWN"},{key:"3",label:"GBE GABARONE"},{key:"4",label:"HRE HARARE"},{key:"5",label:"JNB JOHANNESBURG"},{key:"6",label:"BBK KASANE"},{key:"7",label:"LUN LUKASA"},{key:"8",label:"MUB  MAUN"}],currentState:null,botStatus:O.BOT_STATUS,bookFlightForm:{departure:null,arrival:null,date:null}}),created(){},methods:{onRegister(t,e){t.preventDefault(),console.log("loginForm: ",e),E.register(e).then((t=>{console.log("response: ",t)})).catch((t=>{console.log("error")})),this.user={fullName:e.fullName,email:e.email,phoneNumber:e.phoneNumber,id:(0,B.Z)()},this.initChat()},initChat(){this.messages.push({id:this.getMessageId(),isMine:!1,text:"Hello, Greetings of the Day! What can we help you with today? ",author:"Bot",actions:this.botActions}),this.currentState=this.botStatus.HOME_PAGE},getMessageId(){return this.messages.length+1},scrollToBotton(){o.ZP.nextTick((()=>{const t=this.$refs["messages"];t.scrollTo({behavior:"smooth",top:t.scrollHeight})}))},onSubmit(t,e){t.preventDefault(),console.log("text: ",e),console.log("this.currentState: ",this.currentState),console.log("this.currentState == this.botStatus.ASKING_BOOKING_DATE: ",this.currentState==this.botStatus.ASKING_BOOKING_DATE),this.messages.push({id:this.getMessageId(),isMine:!0,text:e,author:this.user?.fullName}),this.scrollToBotton(),this.currentState==this.botStatus.ASKING_BOOKING_DATE&&(this.bookFlightForm.date=e,this.messages.push({id:this.getMessageId(),isMine:!1,text:`${this.bookFlightForm.departure} to ${this.bookFlightForm.arrival} available flights on ${this.bookFlightForm.date}`,author:"Bot",actions:[{key:"A3456",label:"Airline: AIR Airlines - Flight Number: A3456  - Arrival Time: 20:30 - Departure Time: 06:30",showBookButton:!0},{key:"J3456",label:"Airline: JET Airlines - Flight Number: J3456 - Arrival Time: 20:30 - Departure Time: 06:30",showBookButton:!0}]}),this.scrollToBotton(),this.currentState=this.botStatus.SHOWING_AVAILABLE_FLIGHTS)},onActionSelectEvent(t,e){if(this.currentState==this.botStatus.HOME_PAGE){let t=this.botActions.find((t=>t.key==e.key));console.log("action: ",t),t?"a"==t.key?(this.messages.push({id:this.getMessageId(),isMine:!1,text:"Book a Flight - Please fill in the details requested below",author:"Bot"}),this.messages.push({id:this.getMessageId(),isMine:!1,text:"Select Departure:",author:"Bot",actions:this.departureOptions}),this.scrollToBotton(),this.currentState=this.botStatus.ASKING_BOOKING_DIPARTURE):"b"==t.key?window.open("https://airbotswana.co.bw/","_blank"):"c"==t.key?(this.messages.push({id:this.getMessageId(),isMine:!1,text:"Your booked flights:",author:"Bot",actions:[{key:"A3456",label:"Airline: AIR Airlines - Flight Number: A3456 ",showCheckStatusButton:!0},{key:"J3456",label:"Airline: JET Airlines - Flight Number: J3456 ",showCheckStatusButton:!0}]}),this.scrollToBotton(),this.currentState=this.botStatus.SHOWING_LIST_FOR_FLIGHT_STATUS):"d"==t.key||"e"==t.key?window.open("https://airbotswana.co.bw/","_blank"):"f"==t.key?(this.messages.push({id:this.getMessageId(),isMine:!1,text:"",author:"Bot",actions:[{key:"",label:"Talk to agent ",showTalkToAgentButton:!0}]}),this.currentState=this.botStatus.TALK_TO_AGENT,this.scrollToBotton()):"g"==t.key&&window.open("https://airbotswana.co.bw/","_blank"):(this.messages.push({id:this.getMessageId(),isMine:!1,text:"Please select valid option",author:"Bot",actions:this.botActions}),this.scrollToBotton())}else this.currentState==this.botStatus.ASKING_BOOKING_DIPARTURE?(this.bookFlightForm.departure=e.label,this.messages.push({id:this.getMessageId(),isMine:!1,text:"Select Arrival:",author:"Bot",actions:this.arrivalOptions}),this.scrollToBotton(),this.currentState=this.botStatus.ASKING_BOOKING_ARRIVAL):this.currentState==this.botStatus.ASKING_BOOKING_ARRIVAL?(this.bookFlightForm.arrival=e.label,this.messages.push({id:this.getMessageId(),isMine:!1,text:"Enter Date (DD/MM/YYYY)",author:"Bot"}),this.scrollToBotton(),this.currentState=this.botStatus.ASKING_BOOKING_DATE):this.currentState==this.botStatus.SHOWING_AVAILABLE_FLIGHTS?(window.open("https://airbotswana.co.bw/","_blank"),this.messages.push({id:this.getMessageId(),isMine:!1,text:"Thank you for booking flight with us.",author:"Bot"}),this.scrollToBotton(),setTimeout((()=>{this.messages.push({id:this.getMessageId(),isMine:!1,text:"Do you need more help? ",author:"Bot",actions:this.botActions}),this.currentState=this.botStatus.HOME_PAGE,this.scrollToBotton()}),3e3)):this.currentState==this.botStatus.SHOWING_LIST_FOR_FLIGHT_STATUS?(this.messages.push({id:this.getMessageId(),isMine:!1,text:"Flight # 1234 from Gaborone to Francistown is on time",author:"Bot"}),this.scrollToBotton(),setTimeout((()=>{this.messages.push({id:this.getMessageId(),isMine:!1,text:"Do you need more help? ",author:"Bot",actions:this.botActions}),this.currentState=this.botStatus.HOME_PAGE,this.scrollToBotton()}),3e3)):this.currentState==this.botStatus.TALK_TO_AGENT&&(window.open("https://airbotswana.co.bw/","_blank"),setTimeout((()=>{this.messages.push({id:this.getMessageId(),isMine:!1,text:"Do you need more help? ",author:"Bot",actions:this.botActions}),this.currentState=this.botStatus.HOME_PAGE,this.scrollToBotton()}),3e3))}}},R=P,K=(0,h.Z)(R,i,a,!1,null,"980aee4e",null),C=K.exports;o.ZP.config.productionTip=!1,o.ZP.use(w.Z,I.Z),M.init(),new o.ZP({render:t=>t(C)}).$mount("#app")}},e={};function s(o){var i=e[o];if(void 0!==i)return i.exports;var a=e[o]={id:o,loaded:!1,exports:{}};return t[o](a,a.exports,s),a.loaded=!0,a.exports}s.m=t,function(){s.amdO={}}(),function(){var t=[];s.O=function(e,o,i,a){if(!o){var n=1/0;for(h=0;h<t.length;h++){o=t[h][0],i=t[h][1],a=t[h][2];for(var r=!0,l=0;l<o.length;l++)(!1&a||n>=a)&&Object.keys(s.O).every((function(t){return s.O[t](o[l])}))?o.splice(l--,1):(r=!1,a<n&&(n=a));if(r){t.splice(h--,1);var u=i();void 0!==u&&(e=u)}}return e}a=a||0;for(var h=t.length;h>0&&t[h-1][2]>a;h--)t[h]=t[h-1];t[h]=[o,i,a]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var o in e)s.o(e,o)&&!s.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.hmd=function(t){return t=Object.create(t),t.children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t}}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,o){var i,a,n=o[0],r=o[1],l=o[2],u=0;if(n.some((function(e){return 0!==t[e]}))){for(i in r)s.o(r,i)&&(s.m[i]=r[i]);if(l)var h=l(s)}for(e&&e(o);u<n.length;u++)a=n[u],s.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return s.O(h)},o=self["webpackChunkair_chatboat_vue"]=self["webpackChunkair_chatboat_vue"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=s.O(void 0,[998],(function(){return s(6795)}));o=s.O(o)})();
//# sourceMappingURL=app.6d9ac72d.js.map